<!DOCTYPE html>
<html>
<head>
	<title>KapFlix Author</title>
	<script src="js/dragresize.js"></script>
	<link rel="stylesheet" href="http://code.jquery.com/ui/1.10.3/themes/smoothness/jquery-ui.css" />
	<link rel="stylesheet" href="css/dragresize.css"/>
	<style>
		*{
			padding: 0;
			margin: 0;
		}
		.video{
			height: 320px;
			width: 480px;
			background-color: #000;
		}
		.container{
			border: 1px solid #000;
		}
		.dragpable{
			height: 100px;
			width: 100px;
		}
	</style>
	<script src="http://code.jquery.com/jquery-1.10.1.min.js"></script>
	
	<!--<script src="js/jquery-ui-1.10.3.custom.min.js"></script>-->
	<script type="text/javascript">
		var dragresize = new DragResize('dragresize',
		 { minWidth: 10, minHeight: 10, minLeft: 0, minTop: 0, maxLeft: 600, maxTop: 320 });

		dragresize.isElement = function(elm)
		{
		 if (elm.className && elm.className.indexOf('drsElement') > -1) return true;
		};
		dragresize.isHandle = function(elm)
		{
		 if (elm.className && elm.className.indexOf('drsMoveHandle') > -1) return true;
		};

		dragresize.ondragfocus = function() { };
		dragresize.ondragstart = function(isResize) { };
		dragresize.ondragmove = function(isResize) { };
		dragresize.ondragend = function(isResize) { };
		dragresize.ondragblur = function() { };

		dragresize.apply(document);
	</script

</head>
<body>
	<div class="container">
		<video class="video" controls>
		  <source src="http://www.w3schools.com/HTML/movie.mp4" type="video/mp4">
		</video>
	</div>
	<button id="add-hotspot-button">Add hotspot</button>
	<button id="get-hotspot-dimension">Get Dimension</button>
	<div style="height: 320px; width: 480px; border: 1px solid #000">
	</div>
	<script>
		$(document).ready(function(){
			$("#add-hotspot-button").click(function(e){
				//$(".container").append('<div class="dragpable drsElement drsMoveHandle" style="top: ' + $(".video").//position().top + 'px;"></div>');
				$(".container").append('<div class="dragpable drsElement drsMoveHandle"style="left: 150px; top: 280px; width: 50px; height: 100px; background: #DFC; text-align: center"></div>');
				//$(".dragpable").draggable({
				//	containment: ".video"
				//});
			});

			$("#get-hotspot-dimension").click(function(e){
				var hotspotOff = $(".dragpable").offset();
				var videoOffset = $(".video").offset();
				var videoWidth = $(".video").innerWidth();
				var videoHeight = $(".video").innerHeight();

				console.log("video x-off: " + videoOffset.left);
				console.log("video width: " + videoWidth);
				console.log("x-off: " + hotspotOff.left);
				var relativeXPosition = (hotspotOff.left - (videoOffset.left - 1)),
    								percentx = relativeXPosition/videoWidth;

    			console.log("relativeXPosition: " + percentx);
				var hotspotPos = $(".dragpable").position();
				

				console.log("x-pos: " + hotspotPos.left);
				console.log("y-pos: " + hotspotPos.top);

				
				console.log("y-off: " + hotspotOff.to);

				console.log("x: " + $(".video").height - hotspotOff.top);
				console.log("y-off: " + hotspotOff.left);				
			});
		});
	</script>
</body>
</html>